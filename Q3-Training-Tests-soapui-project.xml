<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="a551c000-510e-4630-9e41-5e0a10f97dd9" activeEnvironment="Default" name="Q3 Training Tests" resourceRoot="" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="ProjectSettings@hermesConfig">${#System#user.home}\.hermes</con:setting><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="Basic Function Suite"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="b0ce4a55-a700-4661-9803-14c0461d7f5b" wadlVersion="http://wadl.dev.java.net/2009/02" name="Reservation App" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint></con:endpoints><con:resource name="Reservations" path="/api/reservations/" id="0a39d742-babf-43f0-84a0-de23288dbeae"><con:settings/><con:parameters/><con:method name="Reservations" id="fc48989a-6cfe-42b2-8adb-6585816a6497" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:jus="http://localhost/api/user/juser">jus:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservation/">res:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Get Reservations" id="f24e5d5c-0026-4113-adf9-b3916b41caa2" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:${#Project#PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/user/juser</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method><con:method name="Create Reservation" id="86d2860f-ae29-4514-9217-6cecd4ada4ce" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservations/">res:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Create Reservation" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "Res1",
  "start_date": "2016-01-01T06:00:00.000Z",
  "end_date": "2099-12-31T00:00:00.000Z",
  "server_name": "server1"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="Server" path="/api/servers/" id="0a39d742-babf-43f0-84a0-de23288dbeae"><con:settings/><con:parameters/><con:method name="Servers" id="fc48989a-6cfe-42b2-8adb-6585816a6497" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:jus="http://localhost/api/user/juser">jus:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservation/">res:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Get Servers" id="f24e5d5c-0026-4113-adf9-b3916b41caa2" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:${#Project#PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/user/juser</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method><con:method name="Create Server" id="86d2860f-ae29-4514-9217-6cecd4ada4ce" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservations/">res:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservations/">res:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Create Server" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "server22"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="Updater" path="/api/updaters/{id}" id="0a39d742-babf-43f0-84a0-de23288dbeae"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>1</con:value><con:style>TEMPLATE</con:style><con:default>1</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Get Updater" id="fc48989a-6cfe-42b2-8adb-6585816a6497" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:jus="http://localhost/api/user/juser">jus:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservation/">res:Fault</con:element></con:representation><con:request name="Get Updater" id="f24e5d5c-0026-4113-adf9-b3916b41caa2" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:${#Project#PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/user/juser</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Create Server" id="86d2860f-ae29-4514-9217-6cecd4ada4ce" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservations/">res:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservations/">res:Fault</con:element></con:representation><con:request name="Create Server" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "server1"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Modify Updater" id="8bcd80d5-3e3f-4051-8ae5-4f600429169c" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:res="http://localhost/api/reservations/">res:Response</con:element></con:representation><con:request name="Enable Updater" id="c32792c5-cda7-4d2c-b873-fd3b84b6ed19" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "active": true,
  "id": 1
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request><con:request name="Disable Updater" id="c32792c5-cda7-4d2c-b873-fd3b84b6ed19" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "active": false,
  "id": 1
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="Reservation" path="/api/reservations/{id}" id="6f9b3053-a20d-45c6-bc16-c9c7ae4f5069"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default></con:parameter></con:parameters><con:method name="Get" id="c7e0348d-c18e-40cf-a19c-5dcddb9d4063" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:id="http://localhost/api/reservations/id">id:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:id="http://localhost/api/reservations/id">id:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="d1dc7994-5458-4c92-80e4-d2f83f2499c7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/reservations/id</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="92" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method><con:method name="Update" id="d3a5d193-8e7a-426d-9da4-b84096241012" method="PUT"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400 404</con:status><con:params/><con:element xmlns:ns="http://localhost/api/reservations/1">ns:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="http://localhost/api/reservations/1">ns:Response</con:element></con:representation><con:request name="Request 1" id="22189165-7318-47e5-933d-0fd1ff186530" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
   "name": "testres-test-server15209",
   "start_date": "2016-01-01T06:00:00.000Z",
   "end_date": "2099-12-31T00:00:00.000Z",
   "server_name": "test-server15209",
   "approved": false,
   "id": 4
}</con:request><con:originalUri>http://localhost/api/reservations/1</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="300610db-96ee-4ab9-b595-2841545793f7" wadlVersion="http://wadl.dev.java.net/2009/02" name="VMware DevOps Approval Service" type="rest" basePath="/api/v1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>A sample API submitting requests for approval.</con:description><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://approval.vmwaredevops.appspot.com</con:endpoint></con:endpoints><con:resource name="/approvables" path="/approvables" id="e17fd8af-0b76-4c4f-ac58-0bd8413f48a5"><con:settings/><con:parameters/><con:method name="findApprovables" id="62276d40-eee2-4718-8e51-0bdee5e38134" method="GET"><con:description>Returns all approvable from the system that the user has access to
</con:description><con:settings/><con:parameters><con:parameter><con:name>approved</con:name><con:style>QUERY</con:style><con:description>choose only approved/unapproved items</con:description></con:parameter><con:parameter><con:name>teamID</con:name><con:style>QUERY</con:style><con:description>filter approvables by team ID</con:description></con:parameter><con:parameter><con:name>limit</con:name><con:style>QUERY</con:style><con:description>maximum number of results to return</con:description></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status/><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="80f961d0-01ce-4b4e-835d-95e40b85e76c" mediaType="application/json"><con:settings/><con:endpoint>http://approval.vmwaredevops.appspot.com</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="addApproval" id="c7ae3813-7b5e-4731-8756-d81bae0dfb64" method="POST"><con:description>Creates a new approval request.
</con:description><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status/><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Request 1" id="3ab8a504-5085-4a76-a89f-2ef0540ba240" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://approval.vmwaredevops.appspot.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="/approvables/{id}" path="/approvables/{id}" id="6b35c830-9f24-424a-8c75-0120aa5b1a82"><con:settings/><con:parameters/><con:method name="findApprovableById" id="6adb4030-4b55-4ca0-89e8-beec9c260895" method="GET"><con:description>Returns the object stored with a given ID.
</con:description><con:settings/><con:parameters><con:parameter required="true"><con:name>id</con:name><con:style>TEMPLATE</con:style><con:description>ID of approvable to fetch</con:description></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status/><con:params/></con:representation><con:request name="Request 1" id="3f4236cf-a4ee-48ef-a2cf-676c295ebada" mediaType="application/json"><con:settings/><con:endpoint>http://approval.vmwaredevops.appspot.com</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="updateApprovable" id="1d31aed7-884b-4444-ab70-e33d81fc83ac" method="PUT"><con:description>Updates an approvable (e.g., to approve). This is a "back end" operation that shouldn't be called from application code.
</con:description><con:settings/><con:parameters><con:parameter required="true"><con:name>id</con:name><con:style>TEMPLATE</con:style><con:description>ID of approvable to update</con:description></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status/><con:params/></con:representation><con:request name="Request 1" id="6998bd02-7a03-4db0-b8aa-2325403a7e71" mediaType="application/json"><con:settings/><con:endpoint>http://approval.vmwaredevops.appspot.com</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="deleteApprovable" id="343c223f-97b5-4d53-8748-ed3ca41d6e94" method="DELETE"><con:description>Deletes a single approvable based on the ID supplied.
</con:description><con:settings/><con:parameters><con:parameter required="true"><con:name>id</con:name><con:style>TEMPLATE</con:style><con:description>ID of approvables to delete</con:description></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>204</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status/><con:params/></con:representation><con:request name="Request 1" id="d6581dc2-255c-423b-b647-2ebc3062cdbf" mediaType="application/json"><con:settings/><con:endpoint>http://approval.vmwaredevops.appspot.com</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="a14d489e-439a-43b5-a665-25a547638339" wadlVersion="http://wadl.dev.java.net/2009/02" name="Servers Service" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://${#Project#SERVER_HOST}:${#Project#SERVER_PORT}</con:endpoint></con:endpoints><con:resource name="Servers" path="/api/servers/{name}" id="1e999c5c-4d93-4819-b8e5-819cc83ca68c"><con:settings/><con:parameters><con:parameter><con:name>name</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter></con:parameters><con:method name="Get Servers" id="dbb825fd-0dea-4bc6-9608-8692e0e0024d" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Get Servers" id="396e1269-3006-467e-bf51-3875b9c8b6f3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#SERVER_HOST}:${#Project#SERVER_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/servers</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry/></con:parameterOrder></con:request></con:method><con:method name="Delete Server" id="7ae9c586-3441-4dd3-a9ed-98315b916230" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Delete Server" id="40925a1a-69ae-4ee0-8bcc-27768c529704" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#SERVER_HOST}:${#Project#SERVER_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/servers/test-server36858</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="name" value="test-server36858" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry/></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="5f3f9592-9e12-4c02-afa2-c4e5bc5d1134" wadlVersion="http://wadl.dev.java.net/2009/02" name="Approval Service" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://${#Project#APPROVAL_HOST}:${#Project#APPROVAL_PORT}</con:endpoint></con:endpoints><con:resource name="Approvals" path="/api/approvables/{id}" id="14304148-57e1-4b21-8103-93e592cf4a92"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter></con:parameters><con:method name="Get Approvals" id="be89752c-9933-4dc7-9b62-0ea42b60b177" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Get Approvals" id="feb8528a-f879-4241-a847-8cc6f00aa1b9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#APPROVAL_HOST}:${#Project#APPROVAL_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/approvables</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry/></con:parameterOrder></con:request></con:method><con:method name="Get Approval by Id" id="149c0ebf-6fa1-4c11-b52d-353b8f4d2e6a" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Get Approval by Id" id="dcc587ed-b8e3-4a17-be70-434821b89cfe" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#APPROVAL_HOST}:${#Project#APPROVAL_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/approvables</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="243" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Delete Approval by Id" id="56f695f0-ae5f-4d10-8431-5ce8640d6535" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="http://localhost/api/approvables/141">ns:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Delete Approval by Id" id="15f1bb10-4c67-413a-ba23-9f3a73a40903" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#APPROVAL_HOST}:${#Project#APPROVAL_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/approvables/141</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="141" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:testSuite id="c2ed1d2a-f8a6-41f6-934d-5a14b182fe18" name="Basic Function Suite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="7af6c911-92e2-4be8-9318-8f2e0c21b639" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="1. Create a Server" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Create New Server" id="9c4d79b0-f0cd-470c-876b-2ff723535aab"><con:settings/><con:config service="Reservation App" resourcePath="/api/servers/" methodName="Create Server" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create New Server" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "${#TestCase#serverName}"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4575ea86-e6f8-4d8a-9a76-6217f44f9c01" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="b47db8c6-93ce-4637-8d50-58081be6a003" name="JsonPath Match"><con:configuration><path>$.name</path><content>${#TestCase#serverName}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Wait for Queue" id="e7f4b642-97ee-49ca-9f5d-5bda44d7c548"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Has New Server" id="d6031fba-339f-4e2d-be5d-89aa297c3403"><con:settings/><con:config service="Servers Service" resourcePath="/api/servers/{name}" methodName="Get Servers" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Has New Server" id="396e1269-3006-467e-bf51-3875b9c8b6f3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#SERVER_HOST}:${#Project#SERVER_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/servers</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8a93a423-9c1c-4511-9dc8-b42254e5a204" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="75972a8a-dc6e-4a20-a97d-dccbbc5b52fa" name="JsonPath Match"><con:configuration><path>$.[?(@.name==${#TestCase#serverName})].name</path><content>[${#TestCase#serverName}]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Server" id="f606c8c3-d90c-484e-8430-1f40c3050658"><con:settings/><con:config service="Servers Service" resourcePath="/api/servers/{name}" methodName="Delete Server" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Server" id="396e1269-3006-467e-bf51-3875b9c8b6f3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#SERVER_HOST}:${#Project#SERVER_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/servers</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8a93a423-9c1c-4511-9dc8-b42254e5a204" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="75972a8a-dc6e-4a20-a97d-dccbbc5b52fa" name="JsonPath Match"><con:configuration><path>$.[?(@.name==${#TestCase#serverName})].name</path><content>[]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="name" value="${#TestCase#serverName}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>def serverName = "test-server"+((int)Math.random()*50000).toString()

log.info "Running with server name:" + serverName

// set a unique server name to track testcase execution.
context.testCase.setPropertyValue("serverName",serverName)

</con:setupScript><con:properties><con:property><con:name>serverName</con:name><con:value>test-server34717</con:value></con:property></con:properties></con:testCase><con:testCase id="00cf69ea-2b94-448a-b589-43310c3b900d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="2. Create a Reservation" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Create New Server" id="ddf9b8e8-3765-4be8-a1d3-996a5378720a"><con:settings/><con:config service="Reservation App" resourcePath="/api/servers/" methodName="Create Server" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create New Server" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "${#TestCase#serverName}"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4575ea86-e6f8-4d8a-9a76-6217f44f9c01" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="b47db8c6-93ce-4637-8d50-58081be6a003" name="JsonPath Match"><con:configuration><path>$.name</path><content>${#TestCase#serverName}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay 2 Sec" id="9fc50c0d-1be3-4b9e-8846-cc0575cb8d46"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="PreCheck Approvals" id="343e1694-bcc9-4a05-8a7c-4efafcffb94e"><con:settings/><con:config service="VMware DevOps Approval Service" resourcePath="/api/v1/approvables" methodName="findApprovables" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PreCheck Approvals" id="80f961d0-01ce-4b4e-835d-95e40b85e76c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://approval.vmwaredevops.appspot.com</con:endpoint><con:request/><con:originalUri>http://approval.vmwaredevops.appspot.com/api/v1/approvables</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="95441071-1ced-447f-825c-42e79279187e" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="247c2880-fff8-4416-a1f6-967e1ab36b9c" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper 
def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText response
def found = false
def maxId = 0
def servername = context.expand( '${#TestCase#serverName}' )
json.each { 
	if (it.id > maxId) {
		maxId = it.id 
		}
	}
context.testCase.setPropertyValue( "MaxSeenID", ""+maxId )
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="approved" value="false"/>
  <con:entry key="teamID" value="${#Project#TEAM}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Make Reservation" id="7b116115-1848-4599-b974-e3c7da59dcad"><con:settings/><con:config service="Reservation App" resourcePath="/api/reservations/" methodName="Create Reservation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Make Reservation" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "testres-${#TestCase#serverName}",
  "start_date": "2016-01-01T06:00:00.000Z",
  "end_date": "2099-12-31T00:00:00.000Z",
  "server_name": "${#TestCase#serverName}"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3f5121e7-3d39-4032-bf6d-1165fd2ebf87" name="Valid HTTP Status Codes"><con:configuration><codes>200,201</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e10bfe44-38d4-4344-b46f-0a6d0a5268bf" name="JsonPath Match"><con:configuration><path>$.approved</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay 5 Sec" id="4a426f59-0d10-4b7b-a58e-2159bcb7088d"><con:settings/><con:config><delay>5000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Check Approvals" id="4a5a1bc8-2f66-4b76-9df6-cb2fdbfe02da"><con:settings/><con:config service="Approval Service" resourcePath="/api/approvables/{id}" methodName="Get Approvals" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check Approvals" id="feb8528a-f879-4241-a847-8cc6f00aa1b9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#APPROVAL_HOST}:${#Project#APPROVAL_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/approvables</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="db250a72-b472-426e-9bde-8008a52bb677" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="eb10332f-d519-4959-a1c8-fb526cfd8f0e" name="JsonPath Match"><con:configuration><path>$..[?(@.name==${#TestCase#serverName})].name</path><content>[${#TestCase#serverName}]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="2778b7fc-937d-4ffa-8029-9c0b00f51930" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper 
def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText response
def found = false
def maxId = 0
def servername = context.expand( '${#TestCase#serverName}' )
json.each { 
	if (it.id > maxId) {
		maxId = it.id 
	}
}
def lastSeenId = context.testCase.getPropertyValue( "MaxSeenID" )
log.info "MaxID:" + maxId
log.info "LastSeenId:" + lastSeenId
// Clumsy test for a new approval; verify that there's a larger ID
// than the last one seen.
// A better test would check for content, but we haven't specified all that.
newId = ""+maxId > context.testCase.getPropertyValue( "MaxSeenID" )
assert newId 
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Server" id="ece96d31-bff9-4fd0-897d-fd5c1a7d1b5b"><con:settings/><con:config service="Servers Service" resourcePath="/api/servers/{name}" methodName="Delete Server" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Server" id="396e1269-3006-467e-bf51-3875b9c8b6f3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#SERVER_HOST}:${#Project#SERVER_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/servers</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8a93a423-9c1c-4511-9dc8-b42254e5a204" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="75972a8a-dc6e-4a20-a97d-dccbbc5b52fa" name="JsonPath Match"><con:configuration><path>$.[?(@.name==${#TestCase#serverName})].name</path><content>[]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="name" value="${#TestCase#serverName}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>def serverName = "test-server"+((int)Math.random()*50000).toString()

log.info "Running with server name:" + serverName

// set a unique server name to track testcase execution.
context.testCase.setPropertyValue("serverName",serverName)

</con:setupScript><con:properties><con:property><con:name>serverName</con:name><con:value>test-server41839</con:value></con:property><con:property><con:name>MaxSeenID</con:name><con:value>289</con:value></con:property></con:properties></con:testCase><con:testCase id="c0dc95a2-b960-4c6e-8bbc-1f521f8b878c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="3. Verify Email on Change" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Make Server" id="fe8418b4-dc70-40e8-9249-b638c0ac912e"><con:settings/><con:config service="Reservation App" resourcePath="/api/servers/" methodName="Create Server" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Make Server" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "${#TestCase#serverName}"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4575ea86-e6f8-4d8a-9a76-6217f44f9c01" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="b47db8c6-93ce-4637-8d50-58081be6a003" name="JsonPath Match"><con:configuration><path>$.name</path><content>${#TestCase#serverName}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Make Reservation" id="ba56d125-5e08-407d-b288-3be9f45eeeae"><con:settings/><con:config service="Reservation App" resourcePath="/api/reservations/" methodName="Create Reservation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Make Reservation" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "testres-${#TestCase#serverName}",
  "start_date": "2016-01-01T06:00:00.000Z",
  "end_date": "2099-12-31T00:00:00.000Z",
  "server_name": "${#TestCase#serverName}"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3f5121e7-3d39-4032-bf6d-1165fd2ebf87" name="Valid HTTP Status Codes"><con:configuration><codes>200,201</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e10bfe44-38d4-4344-b46f-0a6d0a5268bf" name="JsonPath Match"><con:configuration><path>$.approved</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay 5 Sec" id="6735ce8f-b97c-4183-80b8-6a024f70715d"><con:settings/><con:config><delay>5000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Get Reservations" id="ab169d94-6e0a-4f59-bdda-c485127fe66d"><con:settings/><con:config service="Reservation App" methodName="Reservations" resourcePath="/api/reservations/" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Reservations" id="2c2c6b16-9f21-4cb7-87e0-91e24b3580e5" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/reservation/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ccab2a87-a475-4bb0-93e5-126f71482889" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="98048ad3-e8bd-46fb-981c-d9c066f29eba" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper 
def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText response
def found = false
def res = null
def servername = context.expand( '${#TestCase#serverName}' )
log.info( servername )
json.each { 
log.info( it.name + " " + servername)
	if (it.name == servername) {
		found = true 
		res = it
		}
	}
assert found
//assert res.approved == true

</scriptText></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="ebef5545-1713-48fe-b04b-982264dad4bd" name="JsonPath Match"><con:configuration><path>$..[?(@.name==${#TestCase#serverName})].email</path><content>[testres-${#TestCase#serverName}@test.net]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Server" id="1187c5b4-7e74-44b8-ab57-5e01f5806a67"><con:settings/><con:config service="Servers Service" resourcePath="/api/servers/{name}" methodName="Delete Server" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Server" id="396e1269-3006-467e-bf51-3875b9c8b6f3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#SERVER_HOST}:${#Project#SERVER_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/servers</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8a93a423-9c1c-4511-9dc8-b42254e5a204" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="75972a8a-dc6e-4a20-a97d-dccbbc5b52fa" name="JsonPath Match"><con:configuration><path>$.[?(@.name==${#TestCase#serverName})].name</path><content>[]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="name" value="${#TestCase#serverName}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>def serverName = "test-server"+((int)Math.random()*50000).toString()

log.info "Running with server name:" + serverName

// set a unique server name to track testcase execution.
context.testCase.setPropertyValue("serverName",serverName)

</con:setupScript><con:properties><con:property><con:name>serverName</con:name><con:value>test-server37358</con:value></con:property></con:properties></con:testCase><con:testCase id="85803561-6ea4-474f-aca9-472dc7aec1d6" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="4. Verify Reservation Approved" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Make Server" id="01bf32d4-3910-4cd7-8285-0d58bf060005"><con:settings/><con:config service="Reservation App" resourcePath="/api/servers/" methodName="Create Server" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Make Server" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "${#TestCase#serverName}"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4575ea86-e6f8-4d8a-9a76-6217f44f9c01" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="b47db8c6-93ce-4637-8d50-58081be6a003" name="JsonPath Match"><con:configuration><path>$.name</path><content>${#TestCase#serverName}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Make Reservation" id="65cefb78-667b-4cd0-b0f1-28dd9b2f882c"><con:settings/><con:config service="Reservation App" resourcePath="/api/reservations/" methodName="Create Reservation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Make Reservation" id="566e3663-1201-4d27-a8ab-ea38283fe5d0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request>{
  "name": "testres-${#TestCase#serverName}",
  "start_date": "2016-01-01T06:00:00.000Z",
  "end_date": "2099-12-31T00:00:00.000Z",
  "server_name": "${#TestCase#serverName}"
}</con:request><con:originalUri>http://localhost/api/reservations/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3f5121e7-3d39-4032-bf6d-1165fd2ebf87" name="Valid HTTP Status Codes"><con:configuration><codes>200,201</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e10bfe44-38d4-4344-b46f-0a6d0a5268bf" name="JsonPath Match"><con:configuration><path>$.approved</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b0d23d81-b73a-4acf-97c8-4e75e5fc8121" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper 
def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText response
log.info("Got new Res ID: "+json.id)
context.testCase.setPropertyValue( "ResID", ""+json.id )
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay 5 Sec" id="4eaa8fbe-e978-4930-8e89-f1f857e73839"><con:settings/><con:config><delay>5000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Get Reservations" id="42fecb7b-4d6d-4fef-bc00-df3e1faf3801"><con:settings/><con:config service="Reservation App" methodName="Reservations" resourcePath="/api/reservations/" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Reservations" id="2c2c6b16-9f21-4cb7-87e0-91e24b3580e5" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#RS_HOST}:${#Project#PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/reservation/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ccab2a87-a475-4bb0-93e5-126f71482889" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="98048ad3-e8bd-46fb-981c-d9c066f29eba" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper 
def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText response
def found = false
def res = null
def servername = context.expand( '${#TestCase#serverName}' )

json.each { 
log.info( it.name + " " + servername)
	if (it.name == servername) {
		found = true 
		res = it
		//log.info( it )
		}
	}
assert found
assert res.approvalList[0].approved == true

</scriptText></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="ebef5545-1713-48fe-b04b-982264dad4bd" name="JsonPath Match"><con:configuration><path>$..[?(@.name==${#TestCase#serverName})].email</path><content>[testres-${#TestCase#serverName}@test.net]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Server" id="7e9bd49b-0e1c-417b-98ed-865ed982678a"><con:settings/><con:config service="Servers Service" resourcePath="/api/servers/{name}" methodName="Delete Server" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Server" id="396e1269-3006-467e-bf51-3875b9c8b6f3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#SERVER_HOST}:${#Project#SERVER_PORT}</con:endpoint><con:request/><con:originalUri>http://localhost/api/servers</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8a93a423-9c1c-4511-9dc8-b42254e5a204" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="75972a8a-dc6e-4a20-a97d-dccbbc5b52fa" name="JsonPath Match"><con:configuration><path>$.[?(@.name==${#TestCase#serverName})].name</path><content>[]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="name" value="${#TestCase#serverName}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>def serverName = "test-server"+((int)Math.random()*50000).toString()

log.info "Running with server name:" + serverName

// set a unique server name to track testcase execution.
context.testCase.setPropertyValue("serverName",serverName)

</con:setupScript><con:properties><con:property><con:name>serverName</con:name><con:value>test-server4085</con:value></con:property><con:property><con:name>ResID</con:name><con:value>null</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>TEAM</con:name><con:value>6</con:value></con:property><con:property><con:name>PORT</con:name><con:value>8090</con:value></con:property><con:property><con:name>RS_HOST</con:name><con:value>localhost</con:value></con:property><con:property><con:name>US_HOST</con:name><con:value>localhost</con:value></con:property><con:property><con:name>APPROVAL_HOST</con:name><con:value>localhost</con:value></con:property><con:property><con:name>APPROVAL_PORT</con:name><con:value>8092</con:value></con:property><con:property><con:name>SERVER_HOST</con:name><con:value>localhost</con:value></con:property><con:property><con:name>SERVER_PORT</con:name><con:value>8091</con:value></con:property><con:property><con:name>RESERVATION_HOST</con:name><con:value>localhost</con:value></con:property><con:property><con:name>RESERVATION_PORT</con:name><con:value>8093</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>